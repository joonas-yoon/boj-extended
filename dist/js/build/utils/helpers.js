function getMyUsername(){const a=document.querySelector("ul.loginbar a.username");return a?a.innerText:null}function isLoggedIn(){return null!==getMyUsername()}function progressTimer(){function a(a){let b="";return a=parseInt(a/1e3),0<a%60&&(b=a%60+"\uCD08 "+b),a=parseInt(a/60),0<a%60&&(b=a%60+"\uBD84 "+b),a=parseInt(a/60),0<a%24&&(b=a%24+"\uC2DC\uAC04 "+b),a=parseInt(a/24),0<a&&(b=a+"\uC77C "),b?b:"1\uCD08 \uBBF8\uB9CC"}function b(f,g,h){const i=g-new Date().getTime()+1,j=new Date().getTime()-f,k=100*i/(g-f);if(0>i)d.setAttribute("style","display: none;"),e.setAttribute("style","float:left; transition-duration: .2s; width: 100%; background-color:#dc3545;"),e.innerText=a(-i)+" \uC9C0\uB0A8";else{let b="";50>=k?b="background-color:#ffc107;":10>=k&&(b="background-color:#dc3545;"),d.setAttribute("style","float:left; transition-duration: .2s; width:"+(100-k)+"%;  background-color:transparent; color: inherit;"),d.innerText=a(j)+" \uC9C0\uB0A8",e.setAttribute("style","float:right; transition-duration: .2s; width:"+k+"%;"+b),e.innerText=a(i)+" \uB0A8\uC74C"}"running"===c.getAttribute("state")?window.requestAnimationFrame(b.bind(null,f,g,h)):h()}const c=document.createElement("div");c.setAttribute("class","progress");const d=document.createElement("div");d.setAttribute("class","progress-bar"),c.appendChild(d);const e=document.createElement("div");return e.setAttribute("class","progress-bar"),e.innerText="Loading...",c.appendChild(e),{element:function(){return c},start:function(a,d,e){return"running"===c.getAttribute("state")?void console.error("already started"):void(c.setAttribute("state","running"),b(a,d,e))},stop:function(){c.setAttribute("state","stop")},text:function(a){return a&&(e.innerText=a),a},show:function(){c.style.display="block"},hide:function(){c.style.display="none"}}}function createVsForm(a,b){const c=Utils.createElement("div",{class:"vs",style:"margin-bottom: 10px"}),d=Utils.createElement("div",{class:"row"}),e=Utils.createElement("div",{class:"col col-md-2"}),f=Utils.createElement("div",{class:"col col-md-5"}),g=f.cloneNode();d.appendChild(f),d.appendChild(e),d.appendChild(g),c.appendChild(d);const h=Utils.createElement("input",{type:"text",class:"form-control text-right",value:a||"",placeholder:"Username"}),i=Utils.createElement("input",{type:"text",class:"form-control",value:b||"",placeholder:"Username"});f.appendChild(h),g.appendChild(i);const j=Utils.createElement("button",{type:"button",class:"btn btn-primary btn-vs btn-block"});return j.innerText="VS",j.addEventListener("click",function(a){a.preventDefault();const b=h.value,c=i.value;h.setAttribute("class","form-control text-right"+(b?"":" text-border-red bg-color-red")),i.setAttribute("class","form-control"+(c?"":" text-border-red bg-color-red")),b&&c&&(window.location=`https://www.acmicpc.net/vs/${b}/${c}`)}),e.appendChild(j),c}function addElementToBar(a){const b=document.querySelector("ul.loginbar"),c=Utils.createElement("li",{class:"topbar-devider"});b.appendChild(c),b.appendChild(a)}async function fetchProblemsByUser(a){function b(a){const b=new DOMParser,c=b.parseFromString(a,"text/html"),d=c.querySelectorAll("a[href^=\"/problem/\"][class^=\"result-\"]"),e={};for(const b of d){const a=getLastNumberFromHref(b.href),c=b.getAttribute("class");e[a]=c}return e}if(!a)return null;const c=Constants.STORAGE_PREFIX+"problems_"+a,d=LocalCache.get(c,{expired:300000}),e=d||{},f={};if(!e.problems||null===d){const d=await fetch(`/user/${a}`);return 200===d.status&&(f.problems=await b(await d.text())),LocalCache.add(c,f),f.problems}return e.problems}function getLastNumberFromHref(a){return parseInt(a.substr(a.lastIndexOf("/")+1))}function getPathname(a){try{return a=/^http(s)?:\/\//.test(a)?new URL(a):new URL(location.protocol+location.hostname+a),a.pathname}catch(a){return null}}function getProblemID(a){if(a=getPathname(a),!a||!/^\/problem\/[0-9]{4,}$/.test(a))return null;const b=getLastNumberFromHref(a);return null==b||isNaN(b)?null:b}function createProblemLinkElement(b,c,d){const e=b.cloneNode();let a=`(가져오기 실패)`;try{a=c[d].title}catch(a){}return e.classList.add("problem-link-style-box"),e.innerHTML="<span class=\"pid\">"+d+"</span> <span class=\"pname\">"+a+"</span>",e}function createFontStyleElement({url:a,family:b}){const c=(a?"@import url('"+a+"');":"")+(b?"body, input, button, select, textarea, h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .purchase span { font-family: "+b+", "+"'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans CJK KR', 'Noto Sans KR', '\uB098\uB214\uBC14\uB978\uACE0\uB515', '\uB098\uB214\uACE0\uB515', '\uB9D1\uC740\uACE0\uB515', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"+" !important; }":""),d=document.createElement("style");return d.innerText=c,d}