function extendGlobal(){function a(a){const b=JSON.parse(localStorage.getItem(Constants.STORAGE_STATUS_HISTORY)||"{}");delete b[a],localStorage.setItem(Constants.STORAGE_STATUS_HISTORY,JSON.stringify(b)),window.bojextStatusHistories=b}function b(a){return a.classList.contains("result-ac")}extendTheme(),extendWide(),function(){Config.load(Constants.CONFIG_FONT_STYLE,function(a){const b=JSON.parse(a||"{}");b.enabled&&document.head.appendChild(createFontStyleElement(b))})}(),function(){function c(c,d){const g=e(c);if(f(c)){const a=parseInt(c.innerText.match(/\d+/))||null;d&&null!==a&&k(g,a)}else b(c)&&a(g)}function d(a){return a.querySelector("span")||a}function e(a){return a.closest("tr").id}function f(a){return a.classList.contains("result-judging")&&!a.innerText.includes("\uB7F0\uD0C0\uC784 \uC5D0\uB7EC \uC774\uC720\uB97C \uCC3E\uB294 \uC911")}function g(a,b){const c=new MutationObserver(function(a){a.forEach(function(a){b(a.target)})});c.observe(a,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}function h(a,b){a.parentNode.appendChild(b);const c=Utils.createElement("span",{class:"result-latest",style:"float: right;color: #dd4124;"});a.parentNode.appendChild(c)}function i(a,b){Utils.isElement(a.firstChild)&&a.firstChild.getAttribute("href")&&(a=a.firstChild),a.innerHTML=b}function j(a,c){let d=(a.getAttribute("class")||"").split(" ");if(d=d.filter(function(a){return"result-text"!=a&&a.startsWith("result-")}),1>d.length)return;const e=d[0],f=a.closest("td");if(!f)return;Config.load(e,function(b){if(!b)f.setAttribute("class","result"),a.style.display="",c.style.display="none";else{f.setAttribute("class","result has-fake"),a.style.display="none",c.style.display="";const d=a.textContent.replaceAll(l[e],""),g=b.replace(/<span (.+)?>(.*)<\/span>/gi,"<span $1>$2 "+d+"</span>");i(c,g)}});const g=a.closest("tr").id,h=f.querySelector(".result-latest");h.innerText=!b(a)&&window.bojextStatusHistories&&void 0!==window.bojextStatusHistories[g]?"("+window.bojextStatusHistories[g]+"%)":""}function k(a,b){const c=JSON.parse(localStorage.getItem(Constants.STORAGE_STATUS_HISTORY)||"{}"),d=c[a]!=b;c[a]=Math.max(c[a]||0,b),d&&(localStorage.setItem(Constants.STORAGE_STATUS_HISTORY,JSON.stringify(c)),window.bojextStatusHistories=c)}const l={"result-ac":"\uB9DE\uC558\uC2B5\uB2C8\uB2E4!!","result-pac":"\uB9DE\uC558\uC2B5\uB2C8\uB2E4!!","result-wa":"\uD2C0\uB838\uC2B5\uB2C8\uB2E4","result-ce":"\uCEF4\uD30C\uC77C \uC5D0\uB7EC","result-rte":"\uB7F0\uD0C0\uC784 \uC5D0\uB7EC","result-tle":"\uC2DC\uAC04 \uCD08\uACFC","result-mle":"\uBA54\uBAA8\uB9AC \uCD08\uACFC","result-ole":"\uCD9C\uB825 \uCD08\uACFC","result-pe":"\uCD9C\uB825 \uD615\uC2DD\uC774 \uC798\uBABB\uB418\uC5C8\uC2B5\uB2C8\uB2E4","result-wait":"\uAE30\uB2E4\uB9AC\uB294 \uC911","result-compile":"\uCC44\uC810 \uC900\uBE44 \uC911","result-judging":"\uCC44\uC810 \uC911","result-del":"\uCC44\uC810 \uBD88\uAC00"};Config.load(Constants.CONFIG_SHOW_STATUS_HISTORY,function(a){a=!1!==a,a&&(window.bojextStatusHistories=JSON.parse(localStorage.getItem(Constants.STORAGE_STATUS_HISTORY)||"{}")),Config.load(Constants.CONFIG_SHOW_FAKE_RESULT,function(b){const e=function(a,c){!1!==b&&j(a,c)};document.querySelectorAll("span[class^=result-]").forEach(function(b){if("result-text"===b.getAttribute("class"))return;const f=Utils.createElement("span",{class:"result-fake-text",style:"display: none",children:[b.firstChild.cloneNode(!0)]}),i=b.closest(".result-text");null===i?h(b,f):(h(i,f),g(i,function(b){const g=d(b);c(g,a),e(g,f)})),e(b,f)})})})}(),extendProblemPage(),extendQuickSearch(),async function(){const a=await fetchProblemsByUser(getMyUsername());a&&document.querySelectorAll("a[href]").forEach(function(b){const c=b.getAttribute("href");if("#"==c)return;const d=getProblemID(c),e=b.className.includes("result-");null!==d&&!e&&a[d]&&b.classList.add(a[d]||"")})}(),function(){function a(a){if(!a)return!1;try{const b=JSON.parse(a);return b.href!=window.location.href&&c-b.timestamp>=Constants.CONFIG_LOCATION_EXPIRE_MS}catch(a){return!1}}function b(a){const b=JSON.parse(a),c=Utils.createElement("div",{class:"boj-ext-alert alert-default"}),d=Utils.createElement("div",{class:"title"}),e=Utils.createElement("div",{class:"close"});d.innerHTML="\uB9C8\uC9C0\uB9C9\uC73C\uB85C \uBCF8 \uD398\uC774\uC9C0 : ",d.innerHTML+=`<a href="${b.href}">${b.title}</a>`,e.innerHTML="<i class=\"fa fa-close\"></i>",e.addEventListener("click",function(){document.body.removeChild(c)}),c.appendChild(d),c.appendChild(e),document.body.appendChild(c)}const c=new Date;Config.load(Constants.CONFIG_LOCATION_HISTORY,function(c){a(c)&&b(c)}),setTimeout(function(){const a={title:document.title,href:window.location.href,timestamp:c.toISOString()};Config.save(Constants.CONFIG_LOCATION_HISTORY,JSON.stringify(a))},100)}(),function(){async function a(a){const c=[...new Set([...a])],d={};for(let e=0;e<=Math.floor(c.length/100);++e){const a=100*e,f=c.slice(a,a+100);if(!f||1>f.length)continue;const g=f.join(","),h=await b(g);for(const{handle:a,tier:b,rank:c}of h)d[a]={tier:b,rank:c}}return d}if(!isLoggedIn())return;const b=function(a){return new Promise(function(b){chrome.runtime.sendMessage({action:"solved.ac.users",data:{value:a}},function(a){b(a)})})};Config.load(Constants.CONFIG_SHOW_USER_TIER,async function(b){if(!1===b)return;const c=document.querySelectorAll("a[href^=\"/user/\"]"),d=Array.from(c).map(function(a){return a.innerText}),e=await a(d);c.forEach(function(a){const{tier:b}=e[a.innerText]||{tier:0};a.innerHTML=`<img src="https://static.solved.ac/tier_small/${b}.svg" class="solvedac-tier"/> ${a.innerHTML}`})})}()}