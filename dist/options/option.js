(function a(){function b(a){const b=RegExp(/<([a-z]+)>/),c=RegExp(/<\/[a-z]+>/g);for(;b.test(a);)a=a.replace(b,"<span class=\"result-$1\">");return a=a.replace(c,"</span>"),a}function c(a){const c=a.target.getAttribute("name"),d=a.target.value,e=b(d||a.target.getAttribute("placeholder")),f=a.target.getAttribute("data-preview");document.getElementById(f).innerHTML=e,Config.save(c,b(d)),Config.save(c+"-code",d)}function d(a){a?(r.checked=!0,t.style.display="block",!document.head.contains(w)&&document.head.appendChild(w)):(s.checked=!0,t.style.display="none",document.head.contains(w)&&document.head.removeChild(w)),f(e(a))}function e(a){const b=u.value||"",c=v.value||"";return{enabled:a,url:b,family:c}}function f(a){const b=createFontStyleElement(a);w.innerText=b.innerText,Config.save(Constants.CONFIG_FONT_STYLE,JSON.stringify(a))}if(chrome.runtime.lastError)return console.error(chrome.runtime.lastError.message),void setTimeout(a,100);Array.from(document.getElementsByClassName("btn-close-window")).forEach(function(a){a.addEventListener("click",function(a){a.preventDefault(),window.close("","_parent","")})});const g=document.getElementsByClassName("option-theme");for(let a=0;a<g.length;++a)g[a].addEventListener("change",function(a){Config.save(Constants.CONFIG_THEME,a.target.value,function(a){applyTheme(null,a)})});Config.load(Constants.CONFIG_THEME,function(a){for(let b=0;b<g.length;++b)g[b].checked=g[b].value==a;applyTheme(null,a)});const h=document.getElementsByClassName("option-wide");for(let a=0;a<h.length;++a)h[a].addEventListener("change",function(a){Config.save("wide",!!parseInt(a.target.value),function(a){applyWide(null,a)})});Config.load("wide",function(a){h[a?1:0].checked=!0,applyWide(null,a)});const i=document.getElementById("option-status-pid"),j=document.getElementById("option-status-ptitle");i.addEventListener("change",function(){Config.save(Constants.CONFIG_SHOW_STATUS_PID,!!i.checked)}),j.addEventListener("change",function(){Config.save(Constants.CONFIG_SHOW_STATUS_PTITLE,!!j.checked)}),Config.load(Constants.CONFIG_SHOW_STATUS_PID,function(a){i.checked=!1!==a}),Config.load(Constants.CONFIG_SHOW_STATUS_PTITLE,function(a){j.checked=!!a});const k=document.getElementsByClassName("option-status-history");for(let a=0;a<k.length;++a)k[a].addEventListener("change",function(a){Config.save(Constants.CONFIG_SHOW_STATUS_HISTORY,!!parseInt(a.target.value))});Config.load(Constants.CONFIG_SHOW_STATUS_HISTORY,function(a){k[!1===a?1:0].checked=!0});const l=document.getElementsByClassName("option-group-link");for(let a=0;a<l.length;++a)l[a].addEventListener("change",function(a){Config.save(Constants.CONFIG_SHOW_GROUP_LINK,!!parseInt(a.target.value))});Config.load(Constants.CONFIG_SHOW_GROUP_LINK,function(a){l[a?0:1].checked=!0});const m=document.getElementsByClassName("option-user-tier");for(let a=0;a<m.length;++a)m[a].addEventListener("change",function(a){Config.save(Constants.CONFIG_SHOW_USER_TIER,!!parseInt(a.target.value))});Config.load(Constants.CONFIG_SHOW_USER_TIER,function(a){m[!1===a?1:0].checked=!0});const n=document.getElementById("option-problem-tier"),o=document.getElementById("option-problem-tier-color");n.addEventListener("change",function(){Config.save(Constants.CONFIG_SHOW_PROBLEM_TIER,!!n.checked)}),o.addEventListener("change",function(){Config.save(Constants.CONFIG_SHOW_PROBLEM_TIER_COLOR,!!o.checked)}),Config.load(Constants.CONFIG_SHOW_PROBLEM_TIER,function(a){n.checked=!1!==a}),Config.load(Constants.CONFIG_SHOW_PROBLEM_TIER_COLOR,function(a){o.checked=a});const p=document.getElementsByClassName("msg-code");for(let a=0;a<p.length;++a)Config.load(p[a].getAttribute("name")+"-code",function(c){c&&(p[a].value=c,document.getElementById(p[a].getAttribute("data-preview")).innerHTML=b(c))}),p[a].addEventListener("input",c),p[a].addEventListener("keyup",c);const q=document.getElementsByClassName("option-status-result");for(let a=0;a<q.length;++a)q[a].addEventListener("change",function(a){Config.save(Constants.CONFIG_SHOW_FAKE_RESULT,!!parseInt(a.target.value))});Config.load(Constants.CONFIG_SHOW_FAKE_RESULT,function(a){q[!1===a?1:0].checked=!0});{const a=document.getElementById("reformat-practice");c({target:a});const d=document.getElementById("reformat-tag-table"),e=d.querySelector("tbody"),f=["ac","green","acc","accept","wa","red","wrong","fail","pac","yellow","partial","ce","blue","rte","re","purple","runtime","ple","tle","ole","time","wait","gray","grey","compile","judging","del","b","strong","i","u","strike"];for(const a of f){const c=document.createElement("tr"),d=b(`<${a}>${"\uC801\uC6A9\uB41C \uACB0\uACFC \uBBF8\uB9AC\uBCF4\uAE30"}</${a}>`);c.innerHTML=`<td><code>&lt;${a}&gt;</td><td class="result-fake-text">${d}</td>`,e.appendChild(c)}}const r=document.getElementById("option-global-font-enable"),s=document.getElementById("option-global-font-disable"),t=document.getElementById("global-font-setting"),u=document.getElementById("font-url"),v=document.getElementById("font-family"),w=document.createElement("style");r.addEventListener("change",function(){d(!0)}),s.addEventListener("change",function(){d(!1)}),u.addEventListener("keyup",function(){f(e(!0))}),v.addEventListener("keyup",function(){f(e(!0))}),Config.load(Constants.CONFIG_FONT_STYLE,function(a){const b=JSON.parse(a||"{}");u.value=b.url||"",v.value=b.family||"",d(b.enabled||!1)})})();